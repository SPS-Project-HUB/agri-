<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Smart Agri Vehicle</title>
<style>
body{text-align:center;font-family:Arial;background:#e8f5e9}
button{width:130px;height:45px;margin:5px;font-size:16px}
</style>
</head>
<body>

<h2>SMART AGRI VEHICLE</h2>

<button onclick="move('FORWARD')">Forward</button><br>
<button onclick="move('LEFT')">Left</button>
<button onclick="move('STOP')">Stop</button>
<button onclick="move('RIGHT')">Right</button><br>
<button onclick="move('BACKWARD')">Backward</button>

<h3>Water Control</h3>
<button onclick="waterMode('AUTO')">AUTO</button>
<button onclick="waterMode('MANUAL')">MANUAL</button><br>
<button onclick="water('ON')">Water ON</button>
<button onclick="water('OFF')">Water OFF</button>

<h3>Sensors</h3>
<p>Soil: <span id="soil">--</span>%</p>
<p>Distance: <span id="dist">--</span> cm</p>

<script type="module">
import {initializeApp} from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
import {getDatabase,ref,set,onValue} from "https://www.gstatic.com/firebasejs/12.9.0/firebase-database.js";

const app = initializeApp({
  apiKey: "AIzaSyB5CnZ3Eg5TLWN6YZpuQVl7fyDm2Vo4M00",
  databaseURL: "https://aaa-agri-default-rtdb.asia-southeast1.firebasedatabase.app"
});

const db = getDatabase(app);

window.move = c => set(ref(db,"control/move"),c);
window.water = v => set(ref(db,"control/water"),v);
window.waterMode = m => set(ref(db,"control/waterMode"),m);

onValue(ref(db,"sensors"), s=>{
  soil.innerText = s.val().soil_percent;
  dist.innerText = s.val().distance;
});
</script>
</body>
</html>
